#include <Stepper.h>

const int stepsPerRevolution = 200;  // change this to fit the number of steps per revolution for your motor

// initialize the stepper library for the stepper library
const int motorPins[2][4] = {
  {2, 3, 4, 5}, //Motor 1 pins
  {6, 7, 8, 9} // Motor 2 pins
};

Stepper motors[2] = {
  Stepper(stepsPerRevolution, motorPins[0][0], motorPins[0][1], motorPins[0][2], motorPins[0][3]),
  Stepper(stepsPerRevolution, motorPins[1][0], motorPins[1][1], motorPins[1][2], motorPins[1][3]),
};   

int speed = 240;

void setup() {
  Serial.begin(9600);
}

void loop() {
  for (int i = 0; i < 2; i++) {
    motors[i].setSpeed(speed);
  }
  
  for (int i = 0; i < 2; i++) {
    Serial.print("Motor ");
    Serial.print(i + 1);
    Serial.println(": Moving backward");    
    backward(i);
    delay(10000);
    Serial.print("Motor ");
    Serial.print(i + 1);
    Serial.println(": Moving forward");
    forward(i);
    delay(1000);
  }
}

  void stop(int motorIndex) {
    Serial.print("Motor ");
    Serial.print(motorIndex + 1);
    Serial.println(": Stopped");
    motors[motorIndex].step(0);
}

  void forward(int motorIndex) {
    Serial.print("Motor ");
    Serial.print(motorIndex + 1);
    Serial.println(": Moving forward");
    motors[motorIndex].step(stepsPerRevolution);
}

  void backward(int motorIndex) {
    Serial.print("Motor ");
    Serial.print(motorIndex + 1);
    Serial.println(": Moving backward");
    motors[motorIndex].step(-stepsPerRevolution);
}
